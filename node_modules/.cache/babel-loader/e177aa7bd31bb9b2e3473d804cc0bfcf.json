{"ast":null,"code":"var _this = this;\n\nimport { datashoesArr } from \"../../Data_Shoes\";\nimport { ADD_SHOES_TO_CART, VIEW_DETAIL } from \"../constants/shoesConstants\";\nexport let initialState = {\n  shoesArr: datashoesArr,\n  shoesdetail: datashoesArr[0],\n  cartShoes: []\n};\nexport let shoesReducers = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case VIEW_DETAIL:\n      {\n        state.shoesdetail = action.payload;\n        return { ...state\n        };\n      }\n\n    case ADD_SHOES_TO_CART:\n      {\n        let cloneCartShoes = [..._this.state.cartShoes];\n\n        let index = _this.state.cartShoes.findIndex(item => {\n          return item.id == action.payload.id;\n        });\n\n        if (index == -1) {\n          //th sản phẩm chưa có trong giỏ hàng\n          let productCart = { ...action.payload,\n            amount: 1\n          };\n          cloneCartShoes.push(productCart);\n        } else {\n          //th sản phẩm đã có trong giỏ hàng\n          cloneCartShoes[index].amount++;\n        }\n\n        _this.setState({\n          cartShoes: cloneCartShoes\n        });\n\n        return { ...state\n        };\n      }\n\n    default:\n      return state;\n  }\n};","map":{"version":3,"names":["datashoesArr","ADD_SHOES_TO_CART","VIEW_DETAIL","initialState","shoesArr","shoesdetail","cartShoes","shoesReducers","state","action","type","payload","cloneCartShoes","index","findIndex","item","id","productCart","amount","push","setState"],"sources":["/Users/quang/Desktop/ReactJS/bc04_react/src/Ex_ShoesShopRedux/Redux/Reducers/shoesReducers.js"],"sourcesContent":["import { datashoesArr } from \"../../Data_Shoes\";\nimport { ADD_SHOES_TO_CART, VIEW_DETAIL } from \"../constants/shoesConstants\";\n\nexport let initialState = {\n  shoesArr: datashoesArr,\n  shoesdetail: datashoesArr[0],\n  cartShoes: [],\n};\n\nexport let shoesReducers = (state = initialState, action) => {\n  switch (action.type) {\n    case VIEW_DETAIL: {\n      state.shoesdetail = action.payload;\n      return { ...state };\n    }\n    case ADD_SHOES_TO_CART: {\n      let cloneCartShoes = [...this.state.cartShoes];\n      let index = this.state.cartShoes.findIndex((item) => {\n        return item.id == action.payload.id;\n      });\n      if (index == -1) {\n        //th sản phẩm chưa có trong giỏ hàng\n        let productCart = { ...action.payload, amount: 1 };\n        cloneCartShoes.push(productCart);\n      } else {\n        //th sản phẩm đã có trong giỏ hàng\n        cloneCartShoes[index].amount++;\n      }\n      this.setState({ cartShoes: cloneCartShoes });\n      return { ...state };\n    }\n    default:\n      return state;\n  }\n};\n"],"mappings":";;AAAA,SAASA,YAAT,QAA6B,kBAA7B;AACA,SAASC,iBAAT,EAA4BC,WAA5B,QAA+C,6BAA/C;AAEA,OAAO,IAAIC,YAAY,GAAG;EACxBC,QAAQ,EAAEJ,YADc;EAExBK,WAAW,EAAEL,YAAY,CAAC,CAAD,CAFD;EAGxBM,SAAS,EAAE;AAHa,CAAnB;AAMP,OAAO,IAAIC,aAAa,GAAG,YAAkC;EAAA,IAAjCC,KAAiC,uEAAzBL,YAAyB;EAAA,IAAXM,MAAW;;EAC3D,QAAQA,MAAM,CAACC,IAAf;IACE,KAAKR,WAAL;MAAkB;QAChBM,KAAK,CAACH,WAAN,GAAoBI,MAAM,CAACE,OAA3B;QACA,OAAO,EAAE,GAAGH;QAAL,CAAP;MACD;;IACD,KAAKP,iBAAL;MAAwB;QACtB,IAAIW,cAAc,GAAG,CAAC,GAAG,KAAI,CAACJ,KAAL,CAAWF,SAAf,CAArB;;QACA,IAAIO,KAAK,GAAG,KAAI,CAACL,KAAL,CAAWF,SAAX,CAAqBQ,SAArB,CAAgCC,IAAD,IAAU;UACnD,OAAOA,IAAI,CAACC,EAAL,IAAWP,MAAM,CAACE,OAAP,CAAeK,EAAjC;QACD,CAFW,CAAZ;;QAGA,IAAIH,KAAK,IAAI,CAAC,CAAd,EAAiB;UACf;UACA,IAAII,WAAW,GAAG,EAAE,GAAGR,MAAM,CAACE,OAAZ;YAAqBO,MAAM,EAAE;UAA7B,CAAlB;UACAN,cAAc,CAACO,IAAf,CAAoBF,WAApB;QACD,CAJD,MAIO;UACL;UACAL,cAAc,CAACC,KAAD,CAAd,CAAsBK,MAAtB;QACD;;QACD,KAAI,CAACE,QAAL,CAAc;UAAEd,SAAS,EAAEM;QAAb,CAAd;;QACA,OAAO,EAAE,GAAGJ;QAAL,CAAP;MACD;;IACD;MACE,OAAOA,KAAP;EAtBJ;AAwBD,CAzBM"},"metadata":{},"sourceType":"module"}